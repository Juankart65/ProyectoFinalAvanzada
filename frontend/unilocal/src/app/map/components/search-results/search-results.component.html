<div *ngIf="isLoadingPlaces" class="mt-2 flex justify-center items-center">
  <div class="inline-block bg-white border border-gray-300 shadow-md p-4">
    <h6 class="font-semibold">Cargando</h6>
    <p class="text-gray-600">Espere por favor...</p>
  </div>
</div>

<ul class="mt-2 max-h-60 overflow-y-auto">
  <li *ngFor="let place of places" class="mt-2">
    <div
      class="bg-white border border-gray-300 shadow-md rounded-md overflow-hidden"
    >
      <div class="p-4">
        <h2 class="font-semibold">{{ place.text_es }}</h2>
        <p class="text-gray-600">{{ place.place_name }}</p>
      </div>
      <div
        class="flex items-center justify-between p-4 border-t border-gray-300"
      >
        <button
          class="px-3 gap-4 py-1 text-white bg-blue-500 rounded-md hover:bg-blue-600 focus:outline-none"
          (click)="flyTo(place)"
        >
          Ver mapa
        </button>

        <div
          class="fixed inset-y-1 top-16 bottom-0 left-0 w-1/3 bg-white shadow-md p-4 z-0"
          *ngIf="showPanel"
        >
          <h2 class="text-lg font-semibold">{{ selectedPlace?.text_es }}</h2>
          <p>{{ selectedPlace?.place_name }}</p>
          <img
            *ngFor="let image of selectedPlace?.images"
            [src]="image.url"
            alt="Image"
            class="mt-4 rounded-lg"
          />
          <button
            class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none"
            (click)="closePanel()"
          >
            Cerrar
          </button>
        </div>

        <!-- <div *ngIf="showPopup">
          <app-place-popup
            [place]="selectedPlace"
            (close)="closePopup()"
          ></app-place-popup>
        </div> -->

        <button
          class="px-3 py-1 text-blue-500 border border-blue-500 rounded-md hover:bg-blue-100 focus:outline-none"
          (click)="getDirections(place)"
        >
          Direcciones
        </button>
      </div>
    </div>
  </li>
</ul>
